
 <!DOCTYPE HTML>
<html lang="java javascript">
<head>
  <meta charset="UTF-8">
  
    <title>Java从头学之IO | echo home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="yhyecho">
    

    
    <meta name="description" content="File对象（路径常量、绝对与相对路径、构建对象） Java IO图示  1234567891011121314151617181920212223import java.io.File;/** * File对象（路径常量、绝对与相对路径、构建对象） * 两个常用常量 * 1. 路径分隔符 * 2. 文件分隔符 \ (windows)  / (非window) */public class Dem">
<meta property="og:type" content="article">
<meta property="og:title" content="Java从头学之IO">
<meta property="og:url" content="http://www.yhyecho.com/2016/08/15/Java从头学之IO/index.html">
<meta property="og:site_name" content="echo home">
<meta property="og:description" content="File对象（路径常量、绝对与相对路径、构建对象） Java IO图示  1234567891011121314151617181920212223import java.io.File;/** * File对象（路径常量、绝对与相对路径、构建对象） * 两个常用常量 * 1. 路径分隔符 * 2. 文件分隔符 \ (windows)  / (非window) */public class Dem">
<meta property="og:locale" content="java javascript">
<meta property="og:image" content="https://github-1255880316.cos.ap-beijing.myqcloud.com/Java/io.png">
<meta property="og:updated_time" content="2018-03-21T01:24:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java从头学之IO">
<meta name="twitter:description" content="File对象（路径常量、绝对与相对路径、构建对象） Java IO图示  1234567891011121314151617181920212223import java.io.File;/** * File对象（路径常量、绝对与相对路径、构建对象） * 两个常用常量 * 1. 路径分隔符 * 2. 文件分隔符 \ (windows)  / (非window) */public class Dem">
<meta name="twitter:image" content="https://github-1255880316.cos.ap-beijing.myqcloud.com/Java/io.png">

    
    
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="echo home">echo home</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:www.yhyecho.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/08/15/Java从头学之IO/" title="Java从头学之IO" itemprop="url">Java从头学之IO</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="yhyecho" target="_blank" itemprop="author">yhyecho</a>
		
  <p class="article-time">
    <time datetime="2016-08-15T14:10:03.000Z" itemprop="datePublished"> 发表于 2016-08-15</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（路径常量、绝对与相对路径、构建对象）"><span class="toc-number">1.</span> <span class="toc-text">File对象（路径常量、绝对与相对路径、构建对象）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（常用方法、文件名的判断和长度和创建以及删除）"><span class="toc-number">2.</span> <span class="toc-text">File对象（常用方法、文件名的判断和长度和创建以及删除）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（常用方法、文件夹操作、命令模式查找）"><span class="toc-number">3.</span> <span class="toc-text">File对象（常用方法、文件夹操作、命令模式查找）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IO分类和标准步骤"><span class="toc-number">4.</span> <span class="toc-text">IO分类和标准步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#字符流和字节流-重点-与文件"><span class="toc-number">4.0.1.</span> <span class="toc-text">字符流和字节流(重点) 与文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#操作"><span class="toc-number">4.0.2.</span> <span class="toc-text">操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件读取、写出、追加文件）"><span class="toc-number">5.</span> <span class="toc-text">字节流节点流（文件读取、写出、追加文件）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件拷贝）"><span class="toc-number">6.</span> <span class="toc-text">字节流节点流（文件拷贝）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）"><span class="toc-number">7.</span> <span class="toc-text">字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）"><span class="toc-number">8.</span> <span class="toc-text">字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）"><span class="toc-number">9.</span> <span class="toc-text">缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换流（字节转为字符、乱码分析、编码与解码字符集）"><span class="toc-number">10.</span> <span class="toc-text">转换流（字节转为字符、乱码分析、编码与解码字符集）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）"><span class="toc-number">11.</span> <span class="toc-text">转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重点流总结"><span class="toc-number">12.</span> <span class="toc-text">重点流总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（字节数组流）"><span class="toc-number">13.</span> <span class="toc-text">其他流（字节数组流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（字节数组流、与文件流对接）"><span class="toc-number">14.</span> <span class="toc-text">其他流（字节数组流、与文件流对接）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（基本数据类型处理流）"><span class="toc-number">15.</span> <span class="toc-text">其他流（基本数据类型处理流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（对象处理流、序列化和反序列化）"><span class="toc-number">16.</span> <span class="toc-text">其他流（对象处理流、序列化和反序列化）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java7新特性之关闭流（try-with-resource）"><span class="toc-number">17.</span> <span class="toc-text">Java7新特性之关闭流（try with resource）</span></a></li></ol>
		
		</div>
		
		<h3 id="File对象（路径常量、绝对与相对路径、构建对象）"><a href="#File对象（路径常量、绝对与相对路径、构建对象）" class="headerlink" title="File对象（路径常量、绝对与相对路径、构建对象）"></a>File对象（路径常量、绝对与相对路径、构建对象）</h3><blockquote>
<p>Java IO图示</p>
</blockquote>
<p><img src="https://github-1255880316.cos.ap-beijing.myqcloud.com/Java/io.png" alt=""><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * File对象（路径常量、绝对与相对路径、构建对象）</span></div><div class="line"><span class="comment"> * 两个常用常量</span></div><div class="line"><span class="comment"> * 1. 路径分隔符</span></div><div class="line"><span class="comment"> * 2. 文件分隔符 \ (windows)  / (非window)</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        System.out.println(File.separator); <span class="comment">//  /</span></div><div class="line"></div><div class="line">        System.out.println(File.pathSeparator); <span class="comment">// :</span></div><div class="line"></div><div class="line">        <span class="comment">// 路径表示形式</span></div><div class="line">        <span class="comment">// 1. 写死, 不利于跨平台</span></div><div class="line">        String path = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img/2.jpg"</span>;</div><div class="line">        <span class="comment">// 2. 根据操作系统, 自动选择文件分隔符</span></div><div class="line">        path = File.separator + <span class="string">"Users"</span> + File.separator + <span class="string">"yuhuayang"</span> + File.separator + <span class="string">"img"</span> + File.separator + <span class="string">"2.jpg"</span>;</div><div class="line"></div><div class="line">        System.out.println(path);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 相对路径与绝对路径构造File对象</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        String parentPath = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img"</span>;</div><div class="line">        String name = <span class="string">"linked.png"</span>;</div><div class="line">        <span class="comment">// 1. 相对路径</span></div><div class="line">        File src = <span class="keyword">new</span> File(parentPath, name);</div><div class="line"></div><div class="line">        src = <span class="keyword">new</span> File(<span class="keyword">new</span> File(parentPath), name);</div><div class="line">        System.out.println(src.getName()); <span class="comment">// linked.png</span></div><div class="line">        System.out.println(src.getPath()); <span class="comment">// /Users/yuhuayang/Study/icoolxue/coreJava/img/linked.png</span></div><div class="line"></div><div class="line">        <span class="comment">// 2. 绝对路径</span></div><div class="line">        src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img/linked.png"</span>);</div><div class="line">        System.out.println(src.getName());</div><div class="line">        System.out.println(src.getPath());</div><div class="line"></div><div class="line">        <span class="comment">// 3. 没有盘符, 以user.dir构建</span></div><div class="line">        src = <span class="keyword">new</span> File(<span class="string">"test.txt"</span>);</div><div class="line">        System.out.println(src.getName());</div><div class="line">        System.out.println(src.getPath());</div><div class="line">        System.out.println(src.getAbsolutePath());</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="File对象（常用方法、文件名的判断和长度和创建以及删除）"><a href="#File对象（常用方法、文件名的判断和长度和创建以及删除）" class="headerlink" title="File对象（常用方法、文件名的判断和长度和创建以及删除）"></a>File对象（常用方法、文件名的判断和长度和创建以及删除）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * File对象（常用方法、文件名的判断和长度和创建以及删除） 既可以表示文件也可以表示文件夹</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo03</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</div><div class="line">        <span class="comment">//test01();</span></div><div class="line">        <span class="comment">//test02();</span></div><div class="line">        test03();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 1. 建立联系</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</div><div class="line">        File src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img/linked.png"</span>);</div><div class="line">        <span class="comment">// src = new File("linked.png");</span></div><div class="line">        System.out.println(src.getName()); <span class="comment">// 返回名称</span></div><div class="line">        System.out.println(src.getPath()); <span class="comment">// 如果是绝对路径,返回完整路径, 否则相对路径</span></div><div class="line">        System.out.println(src.getAbsolutePath()); <span class="comment">// 返回绝对路径</span></div><div class="line">        System.out.println(src.getParent()); <span class="comment">// 返回上一级, 如果是相对, 返回null</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 2. 判断信息</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</div><div class="line">        File src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img/linked.png"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 是否存在</span></div><div class="line">        System.out.println(<span class="string">"文件是否存在: "</span> + src.exists()); <span class="comment">// true</span></div><div class="line">        <span class="comment">// 是否可读canWrite, canRead()</span></div><div class="line">        System.out.println(<span class="string">"文件是否可写:"</span> + src.canWrite());</div><div class="line"></div><div class="line">        <span class="comment">// isFile()</span></div><div class="line">        <span class="comment">// isDirectory()</span></div><div class="line">        <span class="keyword">if</span> (src.isFile()) &#123;</div><div class="line">            System.out.println(<span class="string">"文件"</span>);</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (src.isDirectory()) &#123;</div><div class="line">            System.out.println(<span class="string">"文件夹"</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            System.out.println(<span class="string">"文件不存在"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        System.out.println(<span class="string">"是否为绝对路径:"</span> + src.isAbsolute());</div><div class="line">        System.out.println(<span class="string">"长度为:"</span> + src.length()); <span class="comment">// 字节数</span></div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 3. 创建和删除文件</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException </span>&#123;</div><div class="line">        String path = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img/test.png"</span>;</div><div class="line">        File src = <span class="keyword">new</span> File(path);</div><div class="line">        <span class="keyword">if</span> (!src.exists()) &#123;</div><div class="line">            <span class="comment">// 3.1 创建文件</span></div><div class="line">            <span class="keyword">boolean</span> flag = src.createNewFile(); <span class="comment">// 若文件存在则创建失败,返回false</span></div><div class="line">            System.out.println(flag ? <span class="string">"成功"</span> : <span class="string">"失败"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// 3. 2 删除文件</span></div><div class="line">        <span class="keyword">boolean</span> delFlag = src.delete();</div><div class="line">        System.out.println(<span class="string">"删除文件"</span> + delFlag);</div><div class="line"></div><div class="line">        <span class="comment">// 3.3 创建临时文件</span></div><div class="line">        <span class="comment">// 文件前缀和后缀, 文件夹位置</span></div><div class="line">        File temp = File.createTempFile(<span class="string">"tes"</span>, <span class="string">".temp"</span>, <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img"</span>));</div><div class="line"></div><div class="line">        Thread.sleep(<span class="number">3000</span>);</div><div class="line">        temp.deleteOnExit(); <span class="comment">// 程序退出即删除</span></div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="File对象（常用方法、文件夹操作、命令模式查找）"><a href="#File对象（常用方法、文件夹操作、命令模式查找）" class="headerlink" title="File对象（常用方法、文件夹操作、命令模式查找）"></a>File对象（常用方法、文件夹操作、命令模式查找）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.io.FilenameFilter;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> *  1. mkdir() 创建目录, 必须确保父目录存在, 如果不存在创建失败</span></div><div class="line"><span class="comment"> *  2. mkdirs() 创建目录, 如果父目录不存在, 一同创建</span></div><div class="line"><span class="comment"> *  3. list 列出文件夹下的所有文件</span></div><div class="line"><span class="comment"> *  4. 命令设计模式</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo04</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">//test01();</span></div><div class="line">        test02();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 创建文件夹</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</div><div class="line">        String path = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/test/demo04"</span>;</div><div class="line">        File src = <span class="keyword">new</span> File(path);</div><div class="line">        <span class="comment">// 1. mkdir() 创建目录, 必须确保父目录存在, 如果不存在创建失败</span></div><div class="line">        <span class="keyword">boolean</span> flag = src.mkdir();</div><div class="line">        System.out.println(flag);</div><div class="line">        <span class="comment">// 2. mkdirs() 创建目录, 如果父目录不存在, 一同创建</span></div><div class="line">        <span class="keyword">boolean</span> flag2 = src.mkdirs();</div><div class="line">        System.out.println(flag2);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</div><div class="line">        String path = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/img"</span>;</div><div class="line">        File src = <span class="keyword">new</span> File(path);</div><div class="line">        <span class="keyword">if</span> (src.isDirectory()) &#123;</div><div class="line">            <span class="comment">// 3. list 列出文件夹下的所有文件</span></div><div class="line">            <span class="comment">// 子目录,子文件名</span></div><div class="line">            System.out.println(<span class="string">"=====子目录,子文件名======"</span>);</div><div class="line">            String[] fileArr = src.list();</div><div class="line">            <span class="keyword">for</span> (String item : fileArr) &#123;</div><div class="line">                System.out.println(item);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">// 子目录,子文件对象</span></div><div class="line">            System.out.println(<span class="string">"=====子目录,子文件对象======"</span>);</div><div class="line">            File[] files = src.listFiles();</div><div class="line">            <span class="keyword">for</span> (File item : files) &#123;</div><div class="line">                System.out.println(item.getAbsolutePath());</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            System.out.println(<span class="string">"=====过滤.java的文件======"</span>);</div><div class="line">            <span class="comment">// 4. 命令设计模式</span></div><div class="line">            File[] subFiles = src.listFiles(<span class="keyword">new</span> FilenameFilter() &#123;</div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</div><div class="line">                    <span class="comment">// 是文件并且以.java结尾 返回true</span></div><div class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> File(dir, name).isFile() &amp;&amp; name.endsWith(<span class="string">".java"</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            System.out.println(subFiles.length);</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 输出子孙级 | 文件的名称</span></div><div class="line"><span class="comment"> * 1. listFiles()</span></div><div class="line"><span class="comment"> * 2. 递归</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo05</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        String path = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava"</span>;</div><div class="line"></div><div class="line">        File parent = <span class="keyword">new</span> File(path);</div><div class="line">        <span class="comment">// printName(parent);</span></div><div class="line"></div><div class="line">        File[] roots = File.listRoots();</div><div class="line">        <span class="comment">// 打印当前系统盘符</span></div><div class="line">        System.out.println(Arrays.toString(roots));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 输出路径</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">(File src)</span> </span>&#123; <span class="comment">// 2. 递归体</span></div><div class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == src || !src.exists()) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        System.out.println(src.getAbsolutePath());</div><div class="line">        <span class="keyword">if</span> (src.isDirectory()) &#123; <span class="comment">//文件夹  // 1. 递归头</span></div><div class="line">            <span class="keyword">for</span> (File item : src.listFiles()) &#123;</div><div class="line">                printName(item);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="IO分类和标准步骤"><a href="#IO分类和标准步骤" class="headerlink" title="IO分类和标准步骤"></a>IO分类和标准步骤</h3><ol>
<li>流: 流动，流向。从一端移动到另一端 源头与目的地<br>程序与文件｜数组｜网络连接｜数据库，以程序为中心</li>
<li>IO流分类</li>
</ol>
<ul>
<li>流向: <ul>
<li>输入流</li>
<li>输出流</li>
</ul>
</li>
<li>数据: <ul>
<li>字节流: 二进制可以一切文件，包括 纯文本 doc 音频视频等等</li>
<li>字符流: 文本文件，只能处理纯文本</li>
</ul>
</li>
<li>功能:<ul>
<li>节点流(包裹源头)</li>
<li>处理流(增强功能)</li>
</ul>
</li>
</ul>
<h5 id="字符流和字节流-重点-与文件"><a href="#字符流和字节流-重点-与文件" class="headerlink" title="字符流和字节流(重点) 与文件"></a>字符流和字节流(重点) 与文件</h5><ol>
<li>字节流<ul>
<li>输入流 InputStream [FileInputStream]<br>  read(byte[] b)<br>  read(byte[] b, int off, int len) + close()</li>
<li>输出流 OutputStream [FileOutputStream]<br>  write(byte[] b)<br>  write(byte[] b, int off, int len) +<br>  flush() + close()</li>
</ul>
</li>
<li>字符流<ul>
<li>输入流 Reader [FileReader]<br>  read(char[] cbuf)<br>  read(char[] cbuf, int off, int len) +<br>  close()</li>
<li>输出流 Writer [FileWriter]<br>  write(char[] cbuf)<br>  write(char[] cbuf, int off, int len) +<br>  flush() + close()<br>  write(String str, int off, int len)</li>
</ul>
</li>
</ol>
<h5 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h5><ul>
<li><p>举例: 搬家   ==&gt; 读取文件</p>
<ol>
<li>关联房子 ==&gt; 建立与文件联系</li>
<li>选择搬家公司 ==&gt; 选择对应流</li>
<li>搬家 ==&gt; 读取｜写入<ul>
<li>卡车大小 ==&gt; 数组大小</li>
<li>运输 ==&gt; 读取，写入</li>
</ul>
</li>
<li>打发over ==&gt; 释放资源</li>
</ol>
</li>
<li><p>操作</p>
</li>
</ul>
<ol>
<li>建立联系</li>
<li>选择流</li>
<li>操作 数组大小 read, write</li>
<li>释放资源</li>
</ol>
<h3 id="字节流节点流（文件读取、写出、追加文件）"><a href="#字节流节点流（文件读取、写出、追加文件）" class="headerlink" title="字节流节点流（文件读取、写出、追加文件）"></a>字节流节点流（文件读取、写出、追加文件）</h3><ul>
<li>读取</li>
</ul>
<ol>
<li>建立联系 File对象 [源头]</li>
<li>选择流 文件输入流 InputStream FileInputStream</li>
<li>操作: byte[] car = new byte[1024] + read + 读取大小</li>
<li>释放资源: 关闭</li>
</ol>
<ul>
<li>写入</li>
</ul>
<ol>
<li>建立联系 File对象 [目的地]</li>
<li>选择流 文件输入流 OutStream FileOutStream</li>
<li>操作: write() + flush()</li>
<li>释放资源: 关闭</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.*;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 文件的读取</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo06</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 1. 建立联系 File对象</span></div><div class="line">        File src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/test.txt"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 2. 选择流</span></div><div class="line">        InputStream is = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            is = <span class="keyword">new</span> FileInputStream(src);</div><div class="line">            <span class="comment">// 3. 操作 不断读取缓冲数组</span></div><div class="line">            <span class="keyword">byte</span>[] car = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</div><div class="line">            <span class="keyword">int</span> len = <span class="number">0</span>; <span class="comment">// 接收实际读取大小</span></div><div class="line">            <span class="keyword">while</span> (-<span class="number">1</span> != (len = is.read(car))) &#123;</div><div class="line">                <span class="comment">// 输出 字节数组转换成字符串</span></div><div class="line">                String info = <span class="keyword">new</span> String(car, <span class="number">0</span>, len);</div><div class="line">                System.out.println(info);</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"文件不存在"</span>);</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"读取文件失败"</span>);</div><div class="line">        &#125; <span class="keyword">finally</span> &#123;</div><div class="line">            <span class="comment">// 4. 释放资源</span></div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != is) &#123;</div><div class="line">                <span class="keyword">try</span> &#123;</div><div class="line">                    is.close();</div><div class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                    System.out.println(<span class="string">"关闭文件输入流失败"</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.io.*;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 写入文件</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo07</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 1. 建立联系 File对象</span></div><div class="line">        File dest = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/test.txt"</span>);</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// 2. 选择流 文件输入流 OutStream FileOutStream</span></div><div class="line">        OutputStream out = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">// 3. 以追加的方式 写入文件, false 表示覆盖原文件</span></div><div class="line">            out = <span class="keyword">new</span> FileOutputStream(dest, <span class="keyword">true</span>);</div><div class="line">            String str = <span class="string">"zhang meng is beautify \r\n"</span>;</div><div class="line">            <span class="keyword">byte</span>[] data = str.getBytes();</div><div class="line">            out.write(data, <span class="number">0</span>, data.length);</div><div class="line"></div><div class="line">            out.flush(); <span class="comment">// 强制刷新出去</span></div><div class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"文件未找到"</span>);</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"文件写出失败"</span>);</div><div class="line">        &#125; <span class="keyword">finally</span> &#123;</div><div class="line">            <span class="comment">// 4. 释放资源</span></div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != out) &#123;</div><div class="line">                <span class="keyword">try</span> &#123;</div><div class="line">                    out.close();</div><div class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                    System.out.println(<span class="string">"关闭输出流失败"</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="字节流节点流（文件拷贝）"><a href="#字节流节点流（文件拷贝）" class="headerlink" title="字节流节点流（文件拷贝）"></a>字节流节点流（文件拷贝）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 字节流节点流（文件拷贝）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo08</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        String srcPath = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/test.txt"</span>;</div><div class="line">        String destPath = <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/test2.txt"</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            copyFile(srcPath, destPath);</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"文件拷贝失败"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> srcPath 源文件路径</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> destPath 目标文件路径</span></div><div class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException 拷贝失败异常</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String srcPath, String destPath)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">// 1. 建立联系源(存在且为文件) + 目的地(文件可以不存在)</span></div><div class="line">        File src = <span class="keyword">new</span> File(srcPath);</div><div class="line">        File dest = <span class="keyword">new</span> File(destPath);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!src.isFile()) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">"不是文件,不可以拷贝!"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// 2. 选择流</span></div><div class="line">        InputStream is = <span class="keyword">new</span> FileInputStream(src);</div><div class="line">        OutputStream os = <span class="keyword">new</span> FileOutputStream(dest);</div><div class="line"></div><div class="line">        <span class="comment">// 3. 文件拷贝, 循环读取 + 写出</span></div><div class="line">        <span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">        <span class="comment">// 3.1 读取</span></div><div class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != (len = is.read(flush))) &#123;</div><div class="line">            <span class="comment">// 3.2 写出</span></div><div class="line">            os.write(flush, <span class="number">0</span>, len);</div><div class="line">        &#125;</div><div class="line">        os.flush(); <span class="comment">// 强制刷出</span></div><div class="line"></div><div class="line">        <span class="comment">// 4. 关闭流  先打开的后关闭</span></div><div class="line">        os.close();</div><div class="line">        is.close();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）"><a href="#字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）" class="headerlink" title="字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）"></a>字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）</h3><h3 id="字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）"><a href="#字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）" class="headerlink" title="字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）"></a>字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo10</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"></div><div class="line">        File src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/test.txt"</span>);</div><div class="line"></div><div class="line">        Reader reader = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            reader = <span class="keyword">new</span> FileReader(src);</div><div class="line">            <span class="comment">// 读取操作</span></div><div class="line">            <span class="keyword">char</span>[] flush = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</div><div class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">            <span class="keyword">while</span> (-<span class="number">1</span> != (len = reader.read())) &#123;</div><div class="line">                <span class="comment">// 字符数组转成字符串</span></div><div class="line">                String str = <span class="keyword">new</span> String(flush, <span class="number">0</span>, len);</div><div class="line">                System.out.println(str);</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"源文件不存在"</span>);</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            System.out.println(<span class="string">"文件读取失败"</span>);</div><div class="line">        &#125; <span class="keyword">finally</span> &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != reader) &#123;</div><div class="line">                <span class="keyword">try</span> &#123;</div><div class="line">                    reader.close();</div><div class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 字符写文件</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo11</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// 创建源</span></div><div class="line">        File dest = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/char.txt"</span>);</div><div class="line">        <span class="comment">// 选择流</span></div><div class="line">        Writer wr = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            wr = <span class="keyword">new</span> FileWriter(dest);</div><div class="line">            <span class="comment">// 写出</span></div><div class="line">            String msg = <span class="string">"锄禾日当午\r\n码农真辛苦\r\n一本小破书\r\n一读一上午"</span>;</div><div class="line">            wr.write(msg);</div><div class="line">            wr.flush();</div><div class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）"><a href="#缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）" class="headerlink" title="缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）"></a>缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）</h3><ul>
<li>缓冲流</li>
</ul>
<ol>
<li>字节缓冲流<br>BufferedInputStream<br>BufferedOutputStream</li>
<li>字符缓冲流<br>BufferedReader readLine()<br>BufferedWriter newLine()<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * readLine和newLine方法</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo13</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line"></div><div class="line">        File src = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/char.txt"</span>);</div><div class="line">        File dest = <span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/char2.txt"</span>);</div><div class="line"></div><div class="line">        BufferedReader reader = <span class="keyword">null</span>;</div><div class="line">        BufferedWriter writer = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(src));</div><div class="line">        writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(dest));</div><div class="line"></div><div class="line">        String line = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">while</span> (<span class="keyword">null</span> != (line = reader.readLine())) &#123;</div><div class="line">            <span class="comment">// 一行行写出</span></div><div class="line">            writer.write(line);</div><div class="line">            <span class="comment">// 换行</span></div><div class="line">            writer.newLine();</div><div class="line">        &#125;</div><div class="line">        writer.flush();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="转换流（字节转为字符、乱码分析、编码与解码字符集）"><a href="#转换流（字节转为字符、乱码分析、编码与解码字符集）" class="headerlink" title="转换流（字节转为字符、乱码分析、编码与解码字符集）"></a>转换流（字节转为字符、乱码分析、编码与解码字符集）</h3><ol>
<li>编码与解码概念<br>编码: 字符   –编码字符集 =&gt; 二进制<br>解码: 二进制 –解码字符集 =&gt; 字符</li>
<li>乱码</li>
</ol>
<ul>
<li>编码和解码的字符集不统一</li>
<li>字节缺少，长度丢失<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 转换流（字节转为字符、乱码分析、编码与解码字符集）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo14</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        String str = <span class="string">"中国"</span>;</div><div class="line">        <span class="keyword">byte</span>[] data = str.getBytes();</div><div class="line">        <span class="comment">// 字节数不完整</span></div><div class="line">        System.out.println(<span class="keyword">new</span> String(data, <span class="number">0</span>, <span class="number">4</span>));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 编码与解码字符集必须相同, 否则乱码</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * <span class="doctag">@throws</span> UnsupportedEncodingException</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> <span class="keyword">throws</span> UnsupportedEncodingException </span>&#123;</div><div class="line">        <span class="comment">// 解码 byte =&gt; char</span></div><div class="line">        String str = <span class="string">"中国"</span>;</div><div class="line">        <span class="comment">// 编码 char =&gt; byte</span></div><div class="line"></div><div class="line">        <span class="comment">// 编码和解码的字符集相同</span></div><div class="line">        <span class="keyword">byte</span>[] data = str.getBytes();</div><div class="line">        <span class="comment">// System.out.println(new String(data));</span></div><div class="line"></div><div class="line">        <span class="comment">// 编码</span></div><div class="line">        data = str.getBytes(<span class="string">"gbk"</span>); <span class="comment">// 设置编码字符集</span></div><div class="line">        <span class="comment">// 解码</span></div><div class="line">        System.out.println(<span class="keyword">new</span> String(data, <span class="string">"gbk"</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）"><a href="#转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）" class="headerlink" title="转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）"></a>转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 字节转字符</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo15</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">// 指定解码字符集</span></div><div class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(</div><div class="line">                <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/char.txt"</span>)), <span class="string">"UTF-8"</span>));</div><div class="line"></div><div class="line">        String info = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">while</span> (<span class="keyword">null</span> != (info = br.readLine())) &#123;</div><div class="line">            System.out.println(info);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        br.close();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="重点流总结"><a href="#重点流总结" class="headerlink" title="重点流总结"></a>重点流总结</h3><h3 id="其他流（字节数组流）"><a href="#其他流（字节数组流）" class="headerlink" title="其他流（字节数组流）"></a>其他流（字节数组流）</h3><ol>
<li>字节数组 字节 节点流<ul>
<li>输入流: ByteArrayInputStream</li>
<li>输出流: ByteArrayOutputStream  toByteArray()<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 字节数组 节点流</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo16</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">// read();</span></div><div class="line"></div><div class="line">        write();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] write() <span class="keyword">throws</span> IOException &#123;</div><div class="line"></div><div class="line">        <span class="comment">// 目的地</span></div><div class="line">        <span class="keyword">byte</span>[] dest;</div><div class="line"></div><div class="line">        ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</div><div class="line">        String msg = <span class="string">"输入流 操作与文件输入流操作一致"</span>;</div><div class="line">        <span class="keyword">byte</span>[] info = msg.getBytes();</div><div class="line">        bos.write(info, <span class="number">0</span>, info.length);</div><div class="line"></div><div class="line">        <span class="comment">// 获取资源</span></div><div class="line">        dest = bos.toByteArray();</div><div class="line"></div><div class="line">        bos.close();</div><div class="line">        <span class="keyword">return</span> dest;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 输入流 操作与文件输入流操作一致</span></div><div class="line"><span class="comment">     * 读取字节数组</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">// 数据源</span></div><div class="line">        String msg = <span class="string">"输入流 操作与文件输入流操作一致"</span>;</div><div class="line">        <span class="keyword">byte</span>[] src = msg.getBytes();</div><div class="line"></div><div class="line">        <span class="comment">// 选择流</span></div><div class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> ByteArrayInputStream(src));</div><div class="line"></div><div class="line">        <span class="comment">// 操作</span></div><div class="line">        <span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != (len = is.read(flush))) &#123;</div><div class="line">            System.out.println(<span class="keyword">new</span> String(flush, <span class="number">0</span>, len));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        is.close();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="其他流（字节数组流、与文件流对接）"><a href="#其他流（字节数组流、与文件流对接）" class="headerlink" title="其他流（字节数组流、与文件流对接）"></a>其他流（字节数组流、与文件流对接）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 其他流（字节数组流、与文件流对接）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo17</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="keyword">byte</span>[] data = getBytesFromFile(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/char.txt"</span>);</div><div class="line"></div><div class="line">        System.out.println(<span class="keyword">new</span> String(data));</div><div class="line"></div><div class="line">        toFileFromByteArray(data, <span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/array.txt"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 字节数组 -- 程序 -- 文件</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * <span class="doctag">@return</span></span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">toFileFromByteArray</span><span class="params">(<span class="keyword">byte</span>[] src, String destPath)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        File dest = <span class="keyword">new</span> File(destPath);</div><div class="line"></div><div class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> ByteArrayInputStream(src));</div><div class="line"></div><div class="line">        OutputStream os = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(dest));</div><div class="line"></div><div class="line">        <span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != (len = is.read(flush))) &#123;</div><div class="line">            os.write(flush, <span class="number">0</span>, len);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        os.flush();</div><div class="line"></div><div class="line">        os.close();</div><div class="line">        is.close();</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 文件 -- 程序 -- 字节数组</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * <span class="doctag">@return</span></span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] getBytesFromFile(String srcPath) <span class="keyword">throws</span> IOException &#123;</div><div class="line">        <span class="comment">// 创建文件源</span></div><div class="line">        File src = <span class="keyword">new</span> File(srcPath);</div><div class="line">        <span class="comment">// 创建字节数组 目的地</span></div><div class="line">        <span class="keyword">byte</span>[] dest = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(src));</div><div class="line">        ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</div><div class="line"></div><div class="line">        <span class="keyword">byte</span>[] flush = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != (len = is.read(flush))) &#123;</div><div class="line">            bos.write(flush, <span class="number">0</span>, len);</div><div class="line">        &#125;</div><div class="line">        bos.flush();</div><div class="line"></div><div class="line">        dest = bos.toByteArray();</div><div class="line">        bos.close();</div><div class="line"></div><div class="line">        <span class="keyword">return</span> dest;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="其他流（基本数据类型处理流）"><a href="#其他流（基本数据类型处理流）" class="headerlink" title="其他流（基本数据类型处理流）"></a>其他流（基本数据类型处理流）</h3><ol>
<li>基本类型 + String (保留数据 + 类型)<ul>
<li>输入流 DataInputStream readXXX</li>
<li>输出流 DataOutputStream writeXXX</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 其他流（基本数据类型处理流）</span></div><div class="line"><span class="comment"> * DataInputStream</span></div><div class="line"><span class="comment"> * DataOutputStream</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo18</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">//write("/Users/yuhuayang/Study/icoolxue/coreJava/resouces/data.txt");</span></div><div class="line"></div><div class="line">        read(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/data.txt"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 从文件读取数据 + 类型</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> srcPath</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String srcPath)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="comment">// 创建源</span></div><div class="line">        File src = <span class="keyword">new</span> File(srcPath);</div><div class="line">        DataInputStream dis = <span class="keyword">new</span> DataInputStream(</div><div class="line">            <span class="keyword">new</span> BufferedInputStream(</div><div class="line">                    <span class="keyword">new</span> FileInputStream(src)</div><div class="line">            )</div><div class="line">        );</div><div class="line"></div><div class="line">        <span class="comment">// 操作读取的顺序与写出一致, 必须存在才能读取</span></div><div class="line">        <span class="keyword">double</span> num1 = dis.readDouble();</div><div class="line">        <span class="keyword">long</span> num2 = dis.readLong();</div><div class="line">        String str = dis.readUTF();</div><div class="line"></div><div class="line">        System.out.println(num1);</div><div class="line">        System.out.println(num2);</div><div class="line">        System.out.println(str);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 数据+类型输出到文件</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String destPath)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        <span class="keyword">double</span> point = <span class="number">2.5</span>;</div><div class="line">        <span class="keyword">long</span> num = <span class="number">100L</span>;</div><div class="line">        String str = <span class="string">"数据类型"</span>;</div><div class="line"></div><div class="line">        File dest = <span class="keyword">new</span> File(destPath);</div><div class="line"></div><div class="line">        DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> BufferedOutputStream(</div><div class="line">                <span class="keyword">new</span> FileOutputStream(dest)</div><div class="line">        ));</div><div class="line"></div><div class="line">        <span class="comment">// 操作写出的顺序,为读取准备</span></div><div class="line">        dos.writeDouble(point);</div><div class="line">        dos.writeLong(num);</div><div class="line">        dos.writeUTF(str);</div><div class="line"></div><div class="line">        dos.flush();</div><div class="line">        dos.close();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="其他流（对象处理流、序列化和反序列化）"><a href="#其他流（对象处理流、序列化和反序列化）" class="headerlink" title="其他流（对象处理流、序列化和反序列化）"></a>其他流（对象处理流、序列化和反序列化）</h3><ol>
<li>引用类型(对象) 保留数据 + 类型<br>反序列化 输入流 ObjectInputStream  readObject()<br>序列化 输出流 ObjectOutputStream writeObject()<blockquote>
<p>注意: 先序列化后反序列化，反序列化顺序必须与序列化一致<br>不是所有的对象都可以序列化， java.io.Seralizable<br>不是所有的属性都需要序列化, transient</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 其他流（对象处理流、序列化和反序列化）</span></div><div class="line"><span class="comment"> * Serializable 标记接口</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</div><div class="line">    <span class="comment">// transient 表示这个属性无需序列化</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String name;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">()</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name, <span class="keyword">double</span> salary)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">        <span class="keyword">this</span>.salary = salary;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> salary;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalary</span><span class="params">(<span class="keyword">double</span> salary)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.salary = salary;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 不是所有的对象都可以序列化</span></div><div class="line"><span class="comment"> * 不是所有的属性都需要序列化 transient</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo19</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</div><div class="line">        <span class="comment">//seri("/Users/yuhuayang/Study/icoolxue/coreJava/resouces/ser.txt");</span></div><div class="line">        read(<span class="string">"/Users/yuhuayang/Study/icoolxue/coreJava/resouces/ser.txt"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 对象反序列化</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> destPath</span></div><div class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></div><div class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String destPath)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</div><div class="line"></div><div class="line">        File dest = <span class="keyword">new</span> File(destPath);</div><div class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> BufferedInputStream(</div><div class="line">            <span class="keyword">new</span> FileInputStream(dest)</div><div class="line">        ));</div><div class="line"></div><div class="line">        Object obj = ois.readObject();</div><div class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Employee) &#123;</div><div class="line">            System.out.println(((Employee) obj).getName());</div><div class="line">            System.out.println(((Employee) obj).getSalary());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        ois.close();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 对象序列化</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> destPath</span></div><div class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">seri</span><span class="params">(String destPath)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        Employee emp = <span class="keyword">new</span> Employee(<span class="string">"yhyecho"</span>, <span class="number">13000</span>);</div><div class="line"></div><div class="line">        File dest = <span class="keyword">new</span> File(destPath);</div><div class="line"></div><div class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> BufferedOutputStream(</div><div class="line">           <span class="keyword">new</span> FileOutputStream(dest)</div><div class="line">        ));</div><div class="line"></div><div class="line">        oos.writeObject(emp);</div><div class="line">        oos.close();</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Java7新特性之关闭流（try-with-resource）"><a href="#Java7新特性之关闭流（try-with-resource）" class="headerlink" title="Java7新特性之关闭流（try with resource）"></a>Java7新特性之关闭流（try with resource）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Java7新特性之关闭流（try with resource）</span></div><div class="line"><span class="comment"> * 关闭流 工具类</span></div><div class="line"><span class="comment"> * &lt;p/&gt;</span></div><div class="line"><span class="comment"> * 可变参数: ... (只能放在形参最后一个位置, 处理方式与数组一致)</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamCloseUtil</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable... io)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (Closeable temp : io) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != temp) &#123;</div><div class="line">                <span class="keyword">try</span> &#123;</div><div class="line">                    temp.close();</div><div class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 使用泛型方法</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> io</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Closeable&gt; <span class="function"><span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(T... io)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (Closeable temp : io) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != temp) &#123;</div><div class="line">                <span class="keyword">try</span> &#123;</div><div class="line">                    temp.close();</div><div class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://www.yhyecho.com/2016/08/15/Java从头学之IO/" data-title="Java从头学之IO | echo home" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/08/28/Java从头学之JDBC/" title="Java从头学之JDBC">
  <strong>上一篇：</strong><br/>
  <span>
  Java从头学之JDBC</span>
</a>
</div>


<div class="next">
<a href="/2016/07/30/Java从头学之Collection/"  title="Java从头学之Collection">
 <strong>下一篇：</strong><br/> 
 <span>Java从头学之Collection
</span>
</a>
</div>

</nav>

	


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（路径常量、绝对与相对路径、构建对象）"><span class="toc-number">1.</span> <span class="toc-text">File对象（路径常量、绝对与相对路径、构建对象）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（常用方法、文件名的判断和长度和创建以及删除）"><span class="toc-number">2.</span> <span class="toc-text">File对象（常用方法、文件名的判断和长度和创建以及删除）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File对象（常用方法、文件夹操作、命令模式查找）"><span class="toc-number">3.</span> <span class="toc-text">File对象（常用方法、文件夹操作、命令模式查找）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IO分类和标准步骤"><span class="toc-number">4.</span> <span class="toc-text">IO分类和标准步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#字符流和字节流-重点-与文件"><span class="toc-number">4.0.1.</span> <span class="toc-text">字符流和字节流(重点) 与文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#操作"><span class="toc-number">4.0.2.</span> <span class="toc-text">操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件读取、写出、追加文件）"><span class="toc-number">5.</span> <span class="toc-text">字节流节点流（文件读取、写出、追加文件）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件拷贝）"><span class="toc-number">6.</span> <span class="toc-text">字节流节点流（文件拷贝）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）"><span class="toc-number">7.</span> <span class="toc-text">字节流节点流（文件夹拷贝、工具制作、文件后缀与软件的关系）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）"><span class="toc-number">8.</span> <span class="toc-text">字符流（Reader、FileReader、Writer、FileWriter、读取、写出、拷贝）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）"><span class="toc-number">9.</span> <span class="toc-text">缓冲流（BufferedInputStream、BufferedOutputStream、BufferedReader、BuffereWriter）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换流（字节转为字符、乱码分析、编码与解码字符集）"><span class="toc-number">10.</span> <span class="toc-text">转换流（字节转为字符、乱码分析、编码与解码字符集）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）"><span class="toc-number">11.</span> <span class="toc-text">转换流（字节转为字符、InputStreamReader、OutputStreamWriter、文件编码与解码）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重点流总结"><span class="toc-number">12.</span> <span class="toc-text">重点流总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（字节数组流）"><span class="toc-number">13.</span> <span class="toc-text">其他流（字节数组流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（字节数组流、与文件流对接）"><span class="toc-number">14.</span> <span class="toc-text">其他流（字节数组流、与文件流对接）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（基本数据类型处理流）"><span class="toc-number">15.</span> <span class="toc-text">其他流（基本数据类型处理流）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他流（对象处理流、序列化和反序列化）"><span class="toc-number">16.</span> <span class="toc-text">其他流（对象处理流、序列化和反序列化）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java7新特性之关闭流（try-with-resource）"><span class="toc-number">17.</span> <span class="toc-text">Java7新特性之关闭流（try with resource）</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="yhyecho" data-theme="medium"></div>
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>



</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> Hello, I&#39;m Echo  <br/>
			This is my blog, Welcome</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/yhyecho" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="yhyecho">yhyecho</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
